function updateAge(){const e=new Date(2002,1,19),t=new Date;let s=t.getFullYear()-e.getFullYear();const r=new Date(t.getFullYear(),e.getMonth(),e.getDate());t<r&&s--,document.getElementById("age").textContent=s}document.getElementById("age")&&updateAge();const cursorDot=document.querySelector(".cursor-dot"),cursorTrail=document.querySelector(".cursor-trail");let posX=0,posY=0,mouseX=0,mouseY=0;function animateCursor(){posX+=.1*(mouseX-posX),posY+=.1*(mouseY-posY),cursorTrail.style.left=`${posX}px`,cursorTrail.style.top=`${posY}px`,requestAnimationFrame(animateCursor)}document.addEventListener("mousemove",(e=>{cursorDot.style.left=`${e.clientX}px`,cursorDot.style.top=`${e.clientY}px`,mouseX=e.clientX,mouseY=e.clientY})),animateCursor(),document.addEventListener("mousedown",(()=>{cursorTrail.style.transform="translate(-50%, -50%) scale(0)",cursorDot.style.transform="translate(-50%, -50%) scale(1.2)"})),document.addEventListener("mouseup",(()=>{cursorTrail.style.transform="translate(-50%, -50%) scale(1)",cursorDot.style.transform="translate(-50%, -50%) scale(1)"})),document.addEventListener("mouseleave",(()=>{cursorDot.style.opacity="0",cursorTrail.style.opacity="0"})),document.addEventListener("mouseenter",(()=>{cursorDot.style.opacity="1",cursorTrail.style.opacity="1"}));const links=document.querySelectorAll("a");links.forEach((e=>{e.addEventListener("mouseenter",(()=>{cursorTrail.style.transform="translate(-50%, -50%) scale(1.25)",cursorTrail.style.border="1px solid rgba(222,221,220,0.35)",cursorTrail.style.boxShadow="0 0 1rem rgba(222,221,220,0.15)"})),e.addEventListener("mouseleave",(()=>{cursorTrail.style.transform="translate(-50%, -50%) scale(1)",cursorTrail.style.border="1px solid rgba(222,221,220,0.3)",cursorTrail.style.boxShadow="0 0 1rem rgba(222,221,220,0.1)"}))})),gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray("h1, h2").forEach((e=>{gsap.from(e,{opacity:0,y:40,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 90%",toggleActions:"play none none none"}})})),gsap.to(".line",{yPercent:8,ease:"none",scrollTrigger:{trigger:".header",start:"center center",end:"bottom center",scrub:1.5}}),gsap.to(".line-right",{yPercent:-6,ease:"none",scrollTrigger:{trigger:".about",start:"center center",end:"bottom center",scrub:1.5}});const progressBar=document.getElementById("progress-bar"),progressText=document.getElementById("progress-text"),loadingScreen=document.getElementById("loading-screen");let progress=0;document.body.classList.add("no-scroll");const totalTime=1e3+3e3*Math.random(),startTime=Date.now();function updateProgress(){const e=Date.now()-startTime;progress=Math.min(100,Math.floor(e/totalTime*100)),progressBar.style.width=progress+"%",progressText.textContent=progress+"%",progress<100?requestAnimationFrame(updateProgress):(loadingScreen.style.opacity=0,setTimeout((()=>{loadingScreen.style.display="none",document.body.classList.remove("no-scroll")}),600))}requestAnimationFrame(updateProgress),$(document).ready((function(){$(".burger").click((function(){$(this).hasClass("open")?($(this).removeClass("open"),$(".nav-mobile").removeClass("opened"),$("body").removeClass("no-scroll")):($(this).addClass("open"),$(".nav-mobile").addClass("opened"),$("body").addClass("no-scroll"))}))}));import*as THREE from"https://cdn.jsdelivr.net/npm/three@latest/build/three.module.js";const easeOutSine=(e,t,s,r)=>s*Math.sin(e/r*(Math.PI/2))+t,easeOutQuad=(e,t,s,r)=>-s*(e/=r)*(e-2)+t;function calculateBrightness(e,t,s){return.2126*e+.7152*t+.0722*s}class WaterTexture{constructor(e){this.size=64,this.points=[],this.radius=.05*this.size,this.width=this.height=this.size,this.maxAge=80,this.last=null,this.speedMultiplier=e.speedMultiplier||1,e.debug&&(this.width=window.innerWidth,this.height=window.innerHeight,this.radius=.1*this.width),this.initTexture(),e.debug&&document.body.append(this.canvas)}initTexture(){this.canvas=document.createElement("canvas"),this.canvas.id="WaterTexture",this.canvas.width=this.width,this.canvas.height=this.height,this.ctx=this.canvas.getContext("2d"),this.texture=new THREE.Texture(this.canvas),this.clear()}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}addPoint(e){let t=0,s=0,r=0;const o=this.last;if(o){const i=e.x-o.x,a=e.y-o.y,n=i*i+a*a,l=Math.sqrt(n);s=i/l,r=a/l,t=Math.min(1e4*n,1)}this.last={x:e.x,y:e.y},this.points.push({x:e.x,y:e.y,age:0,force:t,vx:s,vy:r})}update(){this.clear();let e=1/this.maxAge;this.points.forEach(((t,s)=>{let r=1-t.age/this.maxAge,o=t.force*e*r;t.x+=t.vx*o*this.speedMultiplier,t.y+=t.vy*o*this.speedMultiplier,t.age+=1,t.age>this.maxAge&&this.points.splice(s,1)})),this.points.forEach((e=>{this.drawPoint(e)})),this.texture.needsUpdate=!0}drawPoint(e){let t=e.x*this.width,s=e.y*this.height;const r=this.radius,o=this.ctx;let i=1;i=e.age<.3*this.maxAge?easeOutSine(e.age/(.3*this.maxAge),0,1,1):easeOutQuad(1-(e.age-.3*this.maxAge)/(.7*this.maxAge),0,1,1),i*=e.force;const a=window.getComputedStyle(document.body).backgroundColor.match(/\d+/g),[n,l,c]=a.map(Number);let d=`rgba(255, 255, 255, ${i})`;calculateBrightness(n,l,c)>128&&(d=`rgba(0, 0, 0, ${i})`);let u=5*this.width;o.shadowOffsetX=u,o.shadowOffsetY=u,o.shadowBlur=1*r,o.shadowColor=`rgba(255, 60, 0, ${.2*i})`,this.ctx.beginPath(),this.ctx.fillStyle=d,this.ctx.arc(t-u,s-u,r,0,2*Math.PI),this.ctx.fill()}}class App{constructor(){this.waterTexture=new WaterTexture({debug:!0,speedMultiplier:.7}),this.tick=this.tick.bind(this),this.init()}init(){window.addEventListener("mousemove",this.onMouseMove.bind(this)),this.tick()}onMouseMove(e){const t={x:e.clientX/window.innerWidth,y:e.clientY/window.innerHeight};this.waterTexture.addPoint(t)}tick(){this.waterTexture.update(),requestAnimationFrame(this.tick)}}const myApp=new App;
